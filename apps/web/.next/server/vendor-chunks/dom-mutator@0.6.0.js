"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/dom-mutator@0.6.0";
exports.ids = ["vendor-chunks/dom-mutator@0.6.0"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/dom-mutator@0.6.0/node_modules/dom-mutator/dist/dom-mutator.esm.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/dom-mutator@0.6.0/node_modules/dom-mutator/dist/dom-mutator.esm.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectGlobalObserver: () => (/* binding */ connectGlobalObserver),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   disconnectGlobalObserver: () => (/* binding */ disconnectGlobalObserver),\n/* harmony export */   validAttributeName: () => (/* binding */ validAttributeName)\n/* harmony export */ });\nvar validAttributeName = /^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/;\nvar nullController = {\n  revert: function revert() {}\n};\nvar elements = /*#__PURE__*/new Map();\nvar mutations = /*#__PURE__*/new Set();\n\nfunction getObserverInit(attr) {\n  return attr === 'html' ? {\n    childList: true,\n    subtree: true,\n    attributes: true,\n    characterData: true\n  } : {\n    childList: false,\n    subtree: false,\n    attributes: true,\n    attributeFilter: [attr]\n  };\n}\n\nfunction getElementRecord(element) {\n  var record = elements.get(element);\n\n  if (!record) {\n    record = {\n      element: element,\n      attributes: {}\n    };\n    elements.set(element, record);\n  }\n\n  return record;\n}\n\nfunction createElementPropertyRecord(el, attr, getCurrentValue, setValue, mutationRunner) {\n  var currentValue = getCurrentValue(el);\n  var record = {\n    isDirty: false,\n    originalValue: currentValue,\n    virtualValue: currentValue,\n    mutations: [],\n    el: el,\n    _positionTimeout: null,\n    observer: new MutationObserver(function () {\n      // enact a 1 second timeout that blocks subsequent firing of the\n      // observer until the timeout is complete. This will prevent multiple\n      // mutations from firing in quick succession, which can cause the\n      // mutation to be reverted before the DOM has a chance to update.\n      if (attr === 'position' && record._positionTimeout) return;else if (attr === 'position') record._positionTimeout = setTimeout(function () {\n        record._positionTimeout = null;\n      }, 1000);\n      var currentValue = getCurrentValue(el);\n      if (attr === 'position' && currentValue.parentNode === record.virtualValue.parentNode && currentValue.insertBeforeNode === record.virtualValue.insertBeforeNode) return;\n      if (currentValue === record.virtualValue) return;\n      record.originalValue = currentValue;\n      mutationRunner(record);\n    }),\n    mutationRunner: mutationRunner,\n    setValue: setValue,\n    getCurrentValue: getCurrentValue\n  };\n\n  if (attr === 'position' && el.parentNode) {\n    record.observer.observe(el.parentNode, {\n      childList: true,\n      subtree: true,\n      attributes: false,\n      characterData: false\n    });\n  } else {\n    record.observer.observe(el, getObserverInit(attr));\n  }\n\n  return record;\n}\n\nfunction queueIfNeeded(val, record) {\n  var currentVal = record.getCurrentValue(record.el);\n  record.virtualValue = val;\n\n  if (val && typeof val !== 'string') {\n    if (!currentVal || val.parentNode !== currentVal.parentNode || val.insertBeforeNode !== currentVal.insertBeforeNode) {\n      record.isDirty = true;\n      runDOMUpdates();\n    }\n  } else if (val !== currentVal) {\n    record.isDirty = true;\n    runDOMUpdates();\n  }\n}\n\nfunction htmlMutationRunner(record) {\n  var val = record.originalValue;\n  record.mutations.forEach(function (m) {\n    return val = m.mutate(val);\n  });\n  queueIfNeeded(getTransformedHTML(val), record);\n}\n\nfunction classMutationRunner(record) {\n  var val = new Set(record.originalValue.split(/\\s+/).filter(Boolean));\n  record.mutations.forEach(function (m) {\n    return m.mutate(val);\n  });\n  queueIfNeeded(Array.from(val).filter(Boolean).join(' '), record);\n}\n\nfunction attrMutationRunner(record) {\n  var val = record.originalValue;\n  record.mutations.forEach(function (m) {\n    return val = m.mutate(val);\n  });\n  queueIfNeeded(val, record);\n}\n\nfunction _loadDOMNodes(_ref) {\n  var parentSelector = _ref.parentSelector,\n      insertBeforeSelector = _ref.insertBeforeSelector;\n  var parentNode = document.querySelector(parentSelector);\n  if (!parentNode) return null;\n  var insertBeforeNode = insertBeforeSelector ? document.querySelector(insertBeforeSelector) : null;\n  if (insertBeforeSelector && !insertBeforeNode) return null;\n  return {\n    parentNode: parentNode,\n    insertBeforeNode: insertBeforeNode\n  };\n}\n\nfunction positionMutationRunner(record) {\n  var val = record.originalValue;\n  record.mutations.forEach(function (m) {\n    var selectors = m.mutate();\n\n    var newNodes = _loadDOMNodes(selectors);\n\n    val = newNodes || val;\n  });\n  queueIfNeeded(val, record);\n}\n\nvar getHTMLValue = function getHTMLValue(el) {\n  return el.innerHTML;\n};\n\nvar setHTMLValue = function setHTMLValue(el, value) {\n  return el.innerHTML = value;\n};\n\nfunction getElementHTMLRecord(element) {\n  var elementRecord = getElementRecord(element);\n\n  if (!elementRecord.html) {\n    elementRecord.html = createElementPropertyRecord(element, 'html', getHTMLValue, setHTMLValue, htmlMutationRunner);\n  }\n\n  return elementRecord.html;\n}\n\nvar getElementPosition = function getElementPosition(el) {\n  return {\n    parentNode: el.parentElement,\n    insertBeforeNode: el.nextElementSibling\n  };\n};\n\nvar setElementPosition = function setElementPosition(el, value) {\n  if (value.insertBeforeNode && !value.parentNode.contains(value.insertBeforeNode)) {\n    // skip position mutation - insertBeforeNode not a child of parent. happens\n    // when mutation observer for indvidual element fires out of order\n    return;\n  }\n\n  value.parentNode.insertBefore(el, value.insertBeforeNode);\n};\n\nfunction getElementPositionRecord(element) {\n  var elementRecord = getElementRecord(element);\n\n  if (!elementRecord.position) {\n    elementRecord.position = createElementPropertyRecord(element, 'position', getElementPosition, setElementPosition, positionMutationRunner);\n  }\n\n  return elementRecord.position;\n}\n\nvar setClassValue = function setClassValue(el, val) {\n  return val ? el.className = val : el.removeAttribute('class');\n};\n\nvar getClassValue = function getClassValue(el) {\n  return el.className;\n};\n\nfunction getElementClassRecord(el) {\n  var elementRecord = getElementRecord(el);\n\n  if (!elementRecord.classes) {\n    elementRecord.classes = createElementPropertyRecord(el, 'class', getClassValue, setClassValue, classMutationRunner);\n  }\n\n  return elementRecord.classes;\n}\n\nvar getAttrValue = function getAttrValue(attrName) {\n  return function (el) {\n    var _el$getAttribute;\n\n    return (_el$getAttribute = el.getAttribute(attrName)) != null ? _el$getAttribute : null;\n  };\n};\n\nvar setAttrValue = function setAttrValue(attrName) {\n  return function (el, val) {\n    return val !== null ? el.setAttribute(attrName, val) : el.removeAttribute(attrName);\n  };\n};\n\nfunction getElementAttributeRecord(el, attr) {\n  var elementRecord = getElementRecord(el);\n\n  if (!elementRecord.attributes[attr]) {\n    elementRecord.attributes[attr] = createElementPropertyRecord(el, attr, getAttrValue(attr), setAttrValue(attr), attrMutationRunner);\n  }\n\n  return elementRecord.attributes[attr];\n}\n\nfunction deleteElementPropertyRecord(el, attr) {\n  var element = elements.get(el);\n  if (!element) return;\n\n  if (attr === 'html') {\n    var _element$html, _element$html$observe;\n\n    (_element$html = element.html) == null ? void 0 : (_element$html$observe = _element$html.observer) == null ? void 0 : _element$html$observe.disconnect();\n    delete element.html;\n  } else if (attr === 'class') {\n    var _element$classes, _element$classes$obse;\n\n    (_element$classes = element.classes) == null ? void 0 : (_element$classes$obse = _element$classes.observer) == null ? void 0 : _element$classes$obse.disconnect();\n    delete element.classes;\n  } else if (attr === 'position') {\n    var _element$position, _element$position$obs;\n\n    (_element$position = element.position) == null ? void 0 : (_element$position$obs = _element$position.observer) == null ? void 0 : _element$position$obs.disconnect();\n    delete element.position;\n  } else {\n    var _element$attributes, _element$attributes$a, _element$attributes$a2;\n\n    (_element$attributes = element.attributes) == null ? void 0 : (_element$attributes$a = _element$attributes[attr]) == null ? void 0 : (_element$attributes$a2 = _element$attributes$a.observer) == null ? void 0 : _element$attributes$a2.disconnect();\n    delete element.attributes[attr];\n  }\n}\n\nvar transformContainer;\n\nfunction getTransformedHTML(html) {\n  if (!transformContainer) {\n    transformContainer = document.createElement('div');\n  }\n\n  transformContainer.innerHTML = html;\n  return transformContainer.innerHTML;\n}\n\nfunction setPropertyValue(el, attr, m) {\n  if (!m.isDirty) return;\n  m.isDirty = false;\n  var val = m.virtualValue;\n\n  if (!m.mutations.length) {\n    deleteElementPropertyRecord(el, attr);\n  }\n\n  m.setValue(el, val);\n}\n\nfunction setValue(m, el) {\n  m.html && setPropertyValue(el, 'html', m.html);\n  m.classes && setPropertyValue(el, 'class', m.classes);\n  m.position && setPropertyValue(el, 'position', m.position);\n  Object.keys(m.attributes).forEach(function (attr) {\n    setPropertyValue(el, attr, m.attributes[attr]);\n  });\n}\n\nfunction runDOMUpdates() {\n  elements.forEach(setValue);\n} // find or create ElementPropertyRecord, add mutation to it, then run\n\n\nfunction startMutating(mutation, element) {\n  var record = null;\n\n  if (mutation.kind === 'html') {\n    record = getElementHTMLRecord(element);\n  } else if (mutation.kind === 'class') {\n    record = getElementClassRecord(element);\n  } else if (mutation.kind === 'attribute') {\n    record = getElementAttributeRecord(element, mutation.attribute);\n  } else if (mutation.kind === 'position') {\n    record = getElementPositionRecord(element);\n  }\n\n  if (!record) return;\n  record.mutations.push(mutation);\n  record.mutationRunner(record);\n} // get (existing) ElementPropertyRecord, remove mutation from it, then run\n\n\nfunction stopMutating(mutation, el) {\n  var record = null;\n\n  if (mutation.kind === 'html') {\n    record = getElementHTMLRecord(el);\n  } else if (mutation.kind === 'class') {\n    record = getElementClassRecord(el);\n  } else if (mutation.kind === 'attribute') {\n    record = getElementAttributeRecord(el, mutation.attribute);\n  } else if (mutation.kind === 'position') {\n    record = getElementPositionRecord(el);\n  }\n\n  if (!record) return;\n  var index = record.mutations.indexOf(mutation);\n  if (index !== -1) record.mutations.splice(index, 1);\n  record.mutationRunner(record);\n} // maintain list of elements associated with mutation\n\n\nfunction refreshElementsSet(mutation) {\n  // if a position mutation has already found an element to move, don't move\n  // any more elements\n  if (mutation.kind === 'position' && mutation.elements.size === 1) return;\n  var existingElements = new Set(mutation.elements);\n  var matchingElements = document.querySelectorAll(mutation.selector);\n  matchingElements.forEach(function (el) {\n    if (!existingElements.has(el)) {\n      mutation.elements.add(el);\n      startMutating(mutation, el);\n    }\n  });\n}\n\nfunction revertMutation(mutation) {\n  mutation.elements.forEach(function (el) {\n    return stopMutating(mutation, el);\n  });\n  mutation.elements.clear();\n  mutations[\"delete\"](mutation);\n}\n\nfunction refreshAllElementSets() {\n  mutations.forEach(refreshElementsSet);\n} // Observer for elements that don't exist in the DOM yet\n\n\nvar observer;\nfunction disconnectGlobalObserver() {\n  observer && observer.disconnect();\n}\nfunction connectGlobalObserver() {\n  if (typeof document === 'undefined') return;\n\n  if (!observer) {\n    observer = new MutationObserver(function () {\n      refreshAllElementSets();\n    });\n  }\n\n  refreshAllElementSets();\n  observer.observe(document.documentElement, {\n    childList: true,\n    subtree: true,\n    attributes: false,\n    characterData: false\n  });\n} // run on init\n\nconnectGlobalObserver();\n\nfunction newMutation(m) {\n  // Not in a browser\n  if (typeof document === 'undefined') return nullController; // add to global index of mutations\n\n  mutations.add(m); // run refresh on init to establish list of elements associated w/ mutation\n\n  refreshElementsSet(m);\n  return {\n    revert: function revert() {\n      revertMutation(m);\n    }\n  };\n}\n\nfunction html(selector, mutate) {\n  return newMutation({\n    kind: 'html',\n    elements: new Set(),\n    mutate: mutate,\n    selector: selector\n  });\n}\n\nfunction position(selector, mutate) {\n  return newMutation({\n    kind: 'position',\n    elements: new Set(),\n    mutate: mutate,\n    selector: selector\n  });\n}\n\nfunction classes(selector, mutate) {\n  return newMutation({\n    kind: 'class',\n    elements: new Set(),\n    mutate: mutate,\n    selector: selector\n  });\n}\n\nfunction attribute(selector, attribute, mutate) {\n  if (!validAttributeName.test(attribute)) return nullController;\n\n  if (attribute === 'class' || attribute === 'className') {\n    return classes(selector, function (classnames) {\n      var mutatedClassnames = mutate(Array.from(classnames).join(' '));\n      classnames.clear();\n      if (!mutatedClassnames) return;\n      mutatedClassnames.split(/\\s+/g).filter(Boolean).forEach(function (c) {\n        return classnames.add(c);\n      });\n    });\n  }\n\n  return newMutation({\n    kind: 'attribute',\n    attribute: attribute,\n    elements: new Set(),\n    mutate: mutate,\n    selector: selector\n  });\n}\n\nfunction declarative(_ref2) {\n  var selector = _ref2.selector,\n      action = _ref2.action,\n      value = _ref2.value,\n      attr = _ref2.attribute,\n      parentSelector = _ref2.parentSelector,\n      insertBeforeSelector = _ref2.insertBeforeSelector;\n\n  if (attr === 'html') {\n    if (action === 'append') {\n      return html(selector, function (val) {\n        return val + (value != null ? value : '');\n      });\n    } else if (action === 'set') {\n      return html(selector, function () {\n        return value != null ? value : '';\n      });\n    }\n  } else if (attr === 'class') {\n    if (action === 'append') {\n      return classes(selector, function (val) {\n        if (value) val.add(value);\n      });\n    } else if (action === 'remove') {\n      return classes(selector, function (val) {\n        if (value) val[\"delete\"](value);\n      });\n    } else if (action === 'set') {\n      return classes(selector, function (val) {\n        val.clear();\n        if (value) val.add(value);\n      });\n    }\n  } else if (attr === 'position') {\n    if (action === 'set' && parentSelector) {\n      return position(selector, function () {\n        return {\n          insertBeforeSelector: insertBeforeSelector,\n          parentSelector: parentSelector\n        };\n      });\n    }\n  } else {\n    if (action === 'append') {\n      return attribute(selector, attr, function (val) {\n        return val !== null ? val + (value != null ? value : '') : value != null ? value : '';\n      });\n    } else if (action === 'set') {\n      return attribute(selector, attr, function () {\n        return value != null ? value : '';\n      });\n    } else if (action === 'remove') {\n      return attribute(selector, attr, function () {\n        return null;\n      });\n    }\n  }\n\n  return nullController;\n}\n\nvar index = {\n  html: html,\n  classes: classes,\n  attribute: attribute,\n  position: position,\n  declarative: declarative\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\n\n//# sourceMappingURL=dom-mutator.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RvbS1tdXRhdG9yQDAuNi4wL25vZGVfbW9kdWxlcy9kb20tbXV0YXRvci9kaXN0L2RvbS1tdXRhdG9yLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQSw4REFBOEQ7O0FBRTlELG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEtBQUssRUFBQztBQUMwRDtBQUMvRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZG9tLW11dGF0b3JAMC42LjAvbm9kZV9tb2R1bGVzL2RvbS1tdXRhdG9yL2Rpc3QvZG9tLW11dGF0b3IuZXNtLmpzPzM3MmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHZhbGlkQXR0cmlidXRlTmFtZSA9IC9eW2EtekEtWjpfXVthLXpBLVowLTk6Xy4tXSokLztcbnZhciBudWxsQ29udHJvbGxlciA9IHtcbiAgcmV2ZXJ0OiBmdW5jdGlvbiByZXZlcnQoKSB7fVxufTtcbnZhciBlbGVtZW50cyA9IC8qI19fUFVSRV9fKi9uZXcgTWFwKCk7XG52YXIgbXV0YXRpb25zID0gLyojX19QVVJFX18qL25ldyBTZXQoKTtcblxuZnVuY3Rpb24gZ2V0T2JzZXJ2ZXJJbml0KGF0dHIpIHtcbiAgcmV0dXJuIGF0dHIgPT09ICdodG1sJyA/IHtcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSA6IHtcbiAgICBjaGlsZExpc3Q6IGZhbHNlLFxuICAgIHN1YnRyZWU6IGZhbHNlLFxuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXR0cmlidXRlRmlsdGVyOiBbYXR0cl1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFJlY29yZChlbGVtZW50KSB7XG4gIHZhciByZWNvcmQgPSBlbGVtZW50cy5nZXQoZWxlbWVudCk7XG5cbiAgaWYgKCFyZWNvcmQpIHtcbiAgICByZWNvcmQgPSB7XG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgYXR0cmlidXRlczoge31cbiAgICB9O1xuICAgIGVsZW1lbnRzLnNldChlbGVtZW50LCByZWNvcmQpO1xuICB9XG5cbiAgcmV0dXJuIHJlY29yZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFByb3BlcnR5UmVjb3JkKGVsLCBhdHRyLCBnZXRDdXJyZW50VmFsdWUsIHNldFZhbHVlLCBtdXRhdGlvblJ1bm5lcikge1xuICB2YXIgY3VycmVudFZhbHVlID0gZ2V0Q3VycmVudFZhbHVlKGVsKTtcbiAgdmFyIHJlY29yZCA9IHtcbiAgICBpc0RpcnR5OiBmYWxzZSxcbiAgICBvcmlnaW5hbFZhbHVlOiBjdXJyZW50VmFsdWUsXG4gICAgdmlydHVhbFZhbHVlOiBjdXJyZW50VmFsdWUsXG4gICAgbXV0YXRpb25zOiBbXSxcbiAgICBlbDogZWwsXG4gICAgX3Bvc2l0aW9uVGltZW91dDogbnVsbCxcbiAgICBvYnNlcnZlcjogbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gZW5hY3QgYSAxIHNlY29uZCB0aW1lb3V0IHRoYXQgYmxvY2tzIHN1YnNlcXVlbnQgZmlyaW5nIG9mIHRoZVxuICAgICAgLy8gb2JzZXJ2ZXIgdW50aWwgdGhlIHRpbWVvdXQgaXMgY29tcGxldGUuIFRoaXMgd2lsbCBwcmV2ZW50IG11bHRpcGxlXG4gICAgICAvLyBtdXRhdGlvbnMgZnJvbSBmaXJpbmcgaW4gcXVpY2sgc3VjY2Vzc2lvbiwgd2hpY2ggY2FuIGNhdXNlIHRoZVxuICAgICAgLy8gbXV0YXRpb24gdG8gYmUgcmV2ZXJ0ZWQgYmVmb3JlIHRoZSBET00gaGFzIGEgY2hhbmNlIHRvIHVwZGF0ZS5cbiAgICAgIGlmIChhdHRyID09PSAncG9zaXRpb24nICYmIHJlY29yZC5fcG9zaXRpb25UaW1lb3V0KSByZXR1cm47ZWxzZSBpZiAoYXR0ciA9PT0gJ3Bvc2l0aW9uJykgcmVjb3JkLl9wb3NpdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVjb3JkLl9wb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICB2YXIgY3VycmVudFZhbHVlID0gZ2V0Q3VycmVudFZhbHVlKGVsKTtcbiAgICAgIGlmIChhdHRyID09PSAncG9zaXRpb24nICYmIGN1cnJlbnRWYWx1ZS5wYXJlbnROb2RlID09PSByZWNvcmQudmlydHVhbFZhbHVlLnBhcmVudE5vZGUgJiYgY3VycmVudFZhbHVlLmluc2VydEJlZm9yZU5vZGUgPT09IHJlY29yZC52aXJ0dWFsVmFsdWUuaW5zZXJ0QmVmb3JlTm9kZSkgcmV0dXJuO1xuICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gcmVjb3JkLnZpcnR1YWxWYWx1ZSkgcmV0dXJuO1xuICAgICAgcmVjb3JkLm9yaWdpbmFsVmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICBtdXRhdGlvblJ1bm5lcihyZWNvcmQpO1xuICAgIH0pLFxuICAgIG11dGF0aW9uUnVubmVyOiBtdXRhdGlvblJ1bm5lcixcbiAgICBzZXRWYWx1ZTogc2V0VmFsdWUsXG4gICAgZ2V0Q3VycmVudFZhbHVlOiBnZXRDdXJyZW50VmFsdWVcbiAgfTtcblxuICBpZiAoYXR0ciA9PT0gJ3Bvc2l0aW9uJyAmJiBlbC5wYXJlbnROb2RlKSB7XG4gICAgcmVjb3JkLm9ic2VydmVyLm9ic2VydmUoZWwucGFyZW50Tm9kZSwge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IGZhbHNlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogZmFsc2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZWNvcmQub2JzZXJ2ZXIub2JzZXJ2ZShlbCwgZ2V0T2JzZXJ2ZXJJbml0KGF0dHIpKTtcbiAgfVxuXG4gIHJldHVybiByZWNvcmQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXVlSWZOZWVkZWQodmFsLCByZWNvcmQpIHtcbiAgdmFyIGN1cnJlbnRWYWwgPSByZWNvcmQuZ2V0Q3VycmVudFZhbHVlKHJlY29yZC5lbCk7XG4gIHJlY29yZC52aXJ0dWFsVmFsdWUgPSB2YWw7XG5cbiAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykge1xuICAgIGlmICghY3VycmVudFZhbCB8fCB2YWwucGFyZW50Tm9kZSAhPT0gY3VycmVudFZhbC5wYXJlbnROb2RlIHx8IHZhbC5pbnNlcnRCZWZvcmVOb2RlICE9PSBjdXJyZW50VmFsLmluc2VydEJlZm9yZU5vZGUpIHtcbiAgICAgIHJlY29yZC5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHJ1bkRPTVVwZGF0ZXMoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodmFsICE9PSBjdXJyZW50VmFsKSB7XG4gICAgcmVjb3JkLmlzRGlydHkgPSB0cnVlO1xuICAgIHJ1bkRPTVVwZGF0ZXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBodG1sTXV0YXRpb25SdW5uZXIocmVjb3JkKSB7XG4gIHZhciB2YWwgPSByZWNvcmQub3JpZ2luYWxWYWx1ZTtcbiAgcmVjb3JkLm11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgcmV0dXJuIHZhbCA9IG0ubXV0YXRlKHZhbCk7XG4gIH0pO1xuICBxdWV1ZUlmTmVlZGVkKGdldFRyYW5zZm9ybWVkSFRNTCh2YWwpLCByZWNvcmQpO1xufVxuXG5mdW5jdGlvbiBjbGFzc011dGF0aW9uUnVubmVyKHJlY29yZCkge1xuICB2YXIgdmFsID0gbmV3IFNldChyZWNvcmQub3JpZ2luYWxWYWx1ZS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKSk7XG4gIHJlY29yZC5tdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgIHJldHVybiBtLm11dGF0ZSh2YWwpO1xuICB9KTtcbiAgcXVldWVJZk5lZWRlZChBcnJheS5mcm9tKHZhbCkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKSwgcmVjb3JkKTtcbn1cblxuZnVuY3Rpb24gYXR0ck11dGF0aW9uUnVubmVyKHJlY29yZCkge1xuICB2YXIgdmFsID0gcmVjb3JkLm9yaWdpbmFsVmFsdWU7XG4gIHJlY29yZC5tdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgIHJldHVybiB2YWwgPSBtLm11dGF0ZSh2YWwpO1xuICB9KTtcbiAgcXVldWVJZk5lZWRlZCh2YWwsIHJlY29yZCk7XG59XG5cbmZ1bmN0aW9uIF9sb2FkRE9NTm9kZXMoX3JlZikge1xuICB2YXIgcGFyZW50U2VsZWN0b3IgPSBfcmVmLnBhcmVudFNlbGVjdG9yLFxuICAgICAgaW5zZXJ0QmVmb3JlU2VsZWN0b3IgPSBfcmVmLmluc2VydEJlZm9yZVNlbGVjdG9yO1xuICB2YXIgcGFyZW50Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50U2VsZWN0b3IpO1xuICBpZiAoIXBhcmVudE5vZGUpIHJldHVybiBudWxsO1xuICB2YXIgaW5zZXJ0QmVmb3JlTm9kZSA9IGluc2VydEJlZm9yZVNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNlcnRCZWZvcmVTZWxlY3RvcikgOiBudWxsO1xuICBpZiAoaW5zZXJ0QmVmb3JlU2VsZWN0b3IgJiYgIWluc2VydEJlZm9yZU5vZGUpIHJldHVybiBudWxsO1xuICByZXR1cm4ge1xuICAgIHBhcmVudE5vZGU6IHBhcmVudE5vZGUsXG4gICAgaW5zZXJ0QmVmb3JlTm9kZTogaW5zZXJ0QmVmb3JlTm9kZVxuICB9O1xufVxuXG5mdW5jdGlvbiBwb3NpdGlvbk11dGF0aW9uUnVubmVyKHJlY29yZCkge1xuICB2YXIgdmFsID0gcmVjb3JkLm9yaWdpbmFsVmFsdWU7XG4gIHJlY29yZC5tdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgIHZhciBzZWxlY3RvcnMgPSBtLm11dGF0ZSgpO1xuXG4gICAgdmFyIG5ld05vZGVzID0gX2xvYWRET01Ob2RlcyhzZWxlY3RvcnMpO1xuXG4gICAgdmFsID0gbmV3Tm9kZXMgfHwgdmFsO1xuICB9KTtcbiAgcXVldWVJZk5lZWRlZCh2YWwsIHJlY29yZCk7XG59XG5cbnZhciBnZXRIVE1MVmFsdWUgPSBmdW5jdGlvbiBnZXRIVE1MVmFsdWUoZWwpIHtcbiAgcmV0dXJuIGVsLmlubmVySFRNTDtcbn07XG5cbnZhciBzZXRIVE1MVmFsdWUgPSBmdW5jdGlvbiBzZXRIVE1MVmFsdWUoZWwsIHZhbHVlKSB7XG4gIHJldHVybiBlbC5pbm5lckhUTUwgPSB2YWx1ZTtcbn07XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRIVE1MUmVjb3JkKGVsZW1lbnQpIHtcbiAgdmFyIGVsZW1lbnRSZWNvcmQgPSBnZXRFbGVtZW50UmVjb3JkKGVsZW1lbnQpO1xuXG4gIGlmICghZWxlbWVudFJlY29yZC5odG1sKSB7XG4gICAgZWxlbWVudFJlY29yZC5odG1sID0gY3JlYXRlRWxlbWVudFByb3BlcnR5UmVjb3JkKGVsZW1lbnQsICdodG1sJywgZ2V0SFRNTFZhbHVlLCBzZXRIVE1MVmFsdWUsIGh0bWxNdXRhdGlvblJ1bm5lcik7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFJlY29yZC5odG1sO1xufVxuXG52YXIgZ2V0RWxlbWVudFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKGVsKSB7XG4gIHJldHVybiB7XG4gICAgcGFyZW50Tm9kZTogZWwucGFyZW50RWxlbWVudCxcbiAgICBpbnNlcnRCZWZvcmVOb2RlOiBlbC5uZXh0RWxlbWVudFNpYmxpbmdcbiAgfTtcbn07XG5cbnZhciBzZXRFbGVtZW50UG9zaXRpb24gPSBmdW5jdGlvbiBzZXRFbGVtZW50UG9zaXRpb24oZWwsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZS5pbnNlcnRCZWZvcmVOb2RlICYmICF2YWx1ZS5wYXJlbnROb2RlLmNvbnRhaW5zKHZhbHVlLmluc2VydEJlZm9yZU5vZGUpKSB7XG4gICAgLy8gc2tpcCBwb3NpdGlvbiBtdXRhdGlvbiAtIGluc2VydEJlZm9yZU5vZGUgbm90IGEgY2hpbGQgb2YgcGFyZW50LiBoYXBwZW5zXG4gICAgLy8gd2hlbiBtdXRhdGlvbiBvYnNlcnZlciBmb3IgaW5kdmlkdWFsIGVsZW1lbnQgZmlyZXMgb3V0IG9mIG9yZGVyXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFsdWUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwsIHZhbHVlLmluc2VydEJlZm9yZU5vZGUpO1xufTtcblxuZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uUmVjb3JkKGVsZW1lbnQpIHtcbiAgdmFyIGVsZW1lbnRSZWNvcmQgPSBnZXRFbGVtZW50UmVjb3JkKGVsZW1lbnQpO1xuXG4gIGlmICghZWxlbWVudFJlY29yZC5wb3NpdGlvbikge1xuICAgIGVsZW1lbnRSZWNvcmQucG9zaXRpb24gPSBjcmVhdGVFbGVtZW50UHJvcGVydHlSZWNvcmQoZWxlbWVudCwgJ3Bvc2l0aW9uJywgZ2V0RWxlbWVudFBvc2l0aW9uLCBzZXRFbGVtZW50UG9zaXRpb24sIHBvc2l0aW9uTXV0YXRpb25SdW5uZXIpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRSZWNvcmQucG9zaXRpb247XG59XG5cbnZhciBzZXRDbGFzc1ZhbHVlID0gZnVuY3Rpb24gc2V0Q2xhc3NWYWx1ZShlbCwgdmFsKSB7XG4gIHJldHVybiB2YWwgPyBlbC5jbGFzc05hbWUgPSB2YWwgOiBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG59O1xuXG52YXIgZ2V0Q2xhc3NWYWx1ZSA9IGZ1bmN0aW9uIGdldENsYXNzVmFsdWUoZWwpIHtcbiAgcmV0dXJuIGVsLmNsYXNzTmFtZTtcbn07XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRDbGFzc1JlY29yZChlbCkge1xuICB2YXIgZWxlbWVudFJlY29yZCA9IGdldEVsZW1lbnRSZWNvcmQoZWwpO1xuXG4gIGlmICghZWxlbWVudFJlY29yZC5jbGFzc2VzKSB7XG4gICAgZWxlbWVudFJlY29yZC5jbGFzc2VzID0gY3JlYXRlRWxlbWVudFByb3BlcnR5UmVjb3JkKGVsLCAnY2xhc3MnLCBnZXRDbGFzc1ZhbHVlLCBzZXRDbGFzc1ZhbHVlLCBjbGFzc011dGF0aW9uUnVubmVyKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50UmVjb3JkLmNsYXNzZXM7XG59XG5cbnZhciBnZXRBdHRyVmFsdWUgPSBmdW5jdGlvbiBnZXRBdHRyVmFsdWUoYXR0ck5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBfZWwkZ2V0QXR0cmlidXRlO1xuXG4gICAgcmV0dXJuIChfZWwkZ2V0QXR0cmlidXRlID0gZWwuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKSkgIT0gbnVsbCA/IF9lbCRnZXRBdHRyaWJ1dGUgOiBudWxsO1xuICB9O1xufTtcblxudmFyIHNldEF0dHJWYWx1ZSA9IGZ1bmN0aW9uIHNldEF0dHJWYWx1ZShhdHRyTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCB2YWwpIHtcbiAgICByZXR1cm4gdmFsICE9PSBudWxsID8gZWwuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCB2YWwpIDogZWwucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRBdHRyaWJ1dGVSZWNvcmQoZWwsIGF0dHIpIHtcbiAgdmFyIGVsZW1lbnRSZWNvcmQgPSBnZXRFbGVtZW50UmVjb3JkKGVsKTtcblxuICBpZiAoIWVsZW1lbnRSZWNvcmQuYXR0cmlidXRlc1thdHRyXSkge1xuICAgIGVsZW1lbnRSZWNvcmQuYXR0cmlidXRlc1thdHRyXSA9IGNyZWF0ZUVsZW1lbnRQcm9wZXJ0eVJlY29yZChlbCwgYXR0ciwgZ2V0QXR0clZhbHVlKGF0dHIpLCBzZXRBdHRyVmFsdWUoYXR0ciksIGF0dHJNdXRhdGlvblJ1bm5lcik7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFJlY29yZC5hdHRyaWJ1dGVzW2F0dHJdO1xufVxuXG5mdW5jdGlvbiBkZWxldGVFbGVtZW50UHJvcGVydHlSZWNvcmQoZWwsIGF0dHIpIHtcbiAgdmFyIGVsZW1lbnQgPSBlbGVtZW50cy5nZXQoZWwpO1xuICBpZiAoIWVsZW1lbnQpIHJldHVybjtcblxuICBpZiAoYXR0ciA9PT0gJ2h0bWwnKSB7XG4gICAgdmFyIF9lbGVtZW50JGh0bWwsIF9lbGVtZW50JGh0bWwkb2JzZXJ2ZTtcblxuICAgIChfZWxlbWVudCRodG1sID0gZWxlbWVudC5odG1sKSA9PSBudWxsID8gdm9pZCAwIDogKF9lbGVtZW50JGh0bWwkb2JzZXJ2ZSA9IF9lbGVtZW50JGh0bWwub2JzZXJ2ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRodG1sJG9ic2VydmUuZGlzY29ubmVjdCgpO1xuICAgIGRlbGV0ZSBlbGVtZW50Lmh0bWw7XG4gIH0gZWxzZSBpZiAoYXR0ciA9PT0gJ2NsYXNzJykge1xuICAgIHZhciBfZWxlbWVudCRjbGFzc2VzLCBfZWxlbWVudCRjbGFzc2VzJG9ic2U7XG5cbiAgICAoX2VsZW1lbnQkY2xhc3NlcyA9IGVsZW1lbnQuY2xhc3NlcykgPT0gbnVsbCA/IHZvaWQgMCA6IChfZWxlbWVudCRjbGFzc2VzJG9ic2UgPSBfZWxlbWVudCRjbGFzc2VzLm9ic2VydmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkY2xhc3NlcyRvYnNlLmRpc2Nvbm5lY3QoKTtcbiAgICBkZWxldGUgZWxlbWVudC5jbGFzc2VzO1xuICB9IGVsc2UgaWYgKGF0dHIgPT09ICdwb3NpdGlvbicpIHtcbiAgICB2YXIgX2VsZW1lbnQkcG9zaXRpb24sIF9lbGVtZW50JHBvc2l0aW9uJG9icztcblxuICAgIChfZWxlbWVudCRwb3NpdGlvbiA9IGVsZW1lbnQucG9zaXRpb24pID09IG51bGwgPyB2b2lkIDAgOiAoX2VsZW1lbnQkcG9zaXRpb24kb2JzID0gX2VsZW1lbnQkcG9zaXRpb24ub2JzZXJ2ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRwb3NpdGlvbiRvYnMuZGlzY29ubmVjdCgpO1xuICAgIGRlbGV0ZSBlbGVtZW50LnBvc2l0aW9uO1xuICB9IGVsc2Uge1xuICAgIHZhciBfZWxlbWVudCRhdHRyaWJ1dGVzLCBfZWxlbWVudCRhdHRyaWJ1dGVzJGEsIF9lbGVtZW50JGF0dHJpYnV0ZXMkYTI7XG5cbiAgICAoX2VsZW1lbnQkYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IChfZWxlbWVudCRhdHRyaWJ1dGVzJGEgPSBfZWxlbWVudCRhdHRyaWJ1dGVzW2F0dHJdKSA9PSBudWxsID8gdm9pZCAwIDogKF9lbGVtZW50JGF0dHJpYnV0ZXMkYTIgPSBfZWxlbWVudCRhdHRyaWJ1dGVzJGEub2JzZXJ2ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRhdHRyaWJ1dGVzJGEyLmRpc2Nvbm5lY3QoKTtcbiAgICBkZWxldGUgZWxlbWVudC5hdHRyaWJ1dGVzW2F0dHJdO1xuICB9XG59XG5cbnZhciB0cmFuc2Zvcm1Db250YWluZXI7XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybWVkSFRNTChodG1sKSB7XG4gIGlmICghdHJhbnNmb3JtQ29udGFpbmVyKSB7XG4gICAgdHJhbnNmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIH1cblxuICB0cmFuc2Zvcm1Db250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIHRyYW5zZm9ybUNvbnRhaW5lci5pbm5lckhUTUw7XG59XG5cbmZ1bmN0aW9uIHNldFByb3BlcnR5VmFsdWUoZWwsIGF0dHIsIG0pIHtcbiAgaWYgKCFtLmlzRGlydHkpIHJldHVybjtcbiAgbS5pc0RpcnR5ID0gZmFsc2U7XG4gIHZhciB2YWwgPSBtLnZpcnR1YWxWYWx1ZTtcblxuICBpZiAoIW0ubXV0YXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGV0ZUVsZW1lbnRQcm9wZXJ0eVJlY29yZChlbCwgYXR0cik7XG4gIH1cblxuICBtLnNldFZhbHVlKGVsLCB2YWwpO1xufVxuXG5mdW5jdGlvbiBzZXRWYWx1ZShtLCBlbCkge1xuICBtLmh0bWwgJiYgc2V0UHJvcGVydHlWYWx1ZShlbCwgJ2h0bWwnLCBtLmh0bWwpO1xuICBtLmNsYXNzZXMgJiYgc2V0UHJvcGVydHlWYWx1ZShlbCwgJ2NsYXNzJywgbS5jbGFzc2VzKTtcbiAgbS5wb3NpdGlvbiAmJiBzZXRQcm9wZXJ0eVZhbHVlKGVsLCAncG9zaXRpb24nLCBtLnBvc2l0aW9uKTtcbiAgT2JqZWN0LmtleXMobS5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgc2V0UHJvcGVydHlWYWx1ZShlbCwgYXR0ciwgbS5hdHRyaWJ1dGVzW2F0dHJdKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJ1bkRPTVVwZGF0ZXMoKSB7XG4gIGVsZW1lbnRzLmZvckVhY2goc2V0VmFsdWUpO1xufSAvLyBmaW5kIG9yIGNyZWF0ZSBFbGVtZW50UHJvcGVydHlSZWNvcmQsIGFkZCBtdXRhdGlvbiB0byBpdCwgdGhlbiBydW5cblxuXG5mdW5jdGlvbiBzdGFydE11dGF0aW5nKG11dGF0aW9uLCBlbGVtZW50KSB7XG4gIHZhciByZWNvcmQgPSBudWxsO1xuXG4gIGlmIChtdXRhdGlvbi5raW5kID09PSAnaHRtbCcpIHtcbiAgICByZWNvcmQgPSBnZXRFbGVtZW50SFRNTFJlY29yZChlbGVtZW50KTtcbiAgfSBlbHNlIGlmIChtdXRhdGlvbi5raW5kID09PSAnY2xhc3MnKSB7XG4gICAgcmVjb3JkID0gZ2V0RWxlbWVudENsYXNzUmVjb3JkKGVsZW1lbnQpO1xuICB9IGVsc2UgaWYgKG11dGF0aW9uLmtpbmQgPT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgcmVjb3JkID0gZ2V0RWxlbWVudEF0dHJpYnV0ZVJlY29yZChlbGVtZW50LCBtdXRhdGlvbi5hdHRyaWJ1dGUpO1xuICB9IGVsc2UgaWYgKG11dGF0aW9uLmtpbmQgPT09ICdwb3NpdGlvbicpIHtcbiAgICByZWNvcmQgPSBnZXRFbGVtZW50UG9zaXRpb25SZWNvcmQoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoIXJlY29yZCkgcmV0dXJuO1xuICByZWNvcmQubXV0YXRpb25zLnB1c2gobXV0YXRpb24pO1xuICByZWNvcmQubXV0YXRpb25SdW5uZXIocmVjb3JkKTtcbn0gLy8gZ2V0IChleGlzdGluZykgRWxlbWVudFByb3BlcnR5UmVjb3JkLCByZW1vdmUgbXV0YXRpb24gZnJvbSBpdCwgdGhlbiBydW5cblxuXG5mdW5jdGlvbiBzdG9wTXV0YXRpbmcobXV0YXRpb24sIGVsKSB7XG4gIHZhciByZWNvcmQgPSBudWxsO1xuXG4gIGlmIChtdXRhdGlvbi5raW5kID09PSAnaHRtbCcpIHtcbiAgICByZWNvcmQgPSBnZXRFbGVtZW50SFRNTFJlY29yZChlbCk7XG4gIH0gZWxzZSBpZiAobXV0YXRpb24ua2luZCA9PT0gJ2NsYXNzJykge1xuICAgIHJlY29yZCA9IGdldEVsZW1lbnRDbGFzc1JlY29yZChlbCk7XG4gIH0gZWxzZSBpZiAobXV0YXRpb24ua2luZCA9PT0gJ2F0dHJpYnV0ZScpIHtcbiAgICByZWNvcmQgPSBnZXRFbGVtZW50QXR0cmlidXRlUmVjb3JkKGVsLCBtdXRhdGlvbi5hdHRyaWJ1dGUpO1xuICB9IGVsc2UgaWYgKG11dGF0aW9uLmtpbmQgPT09ICdwb3NpdGlvbicpIHtcbiAgICByZWNvcmQgPSBnZXRFbGVtZW50UG9zaXRpb25SZWNvcmQoZWwpO1xuICB9XG5cbiAgaWYgKCFyZWNvcmQpIHJldHVybjtcbiAgdmFyIGluZGV4ID0gcmVjb3JkLm11dGF0aW9ucy5pbmRleE9mKG11dGF0aW9uKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkgcmVjb3JkLm11dGF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICByZWNvcmQubXV0YXRpb25SdW5uZXIocmVjb3JkKTtcbn0gLy8gbWFpbnRhaW4gbGlzdCBvZiBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggbXV0YXRpb25cblxuXG5mdW5jdGlvbiByZWZyZXNoRWxlbWVudHNTZXQobXV0YXRpb24pIHtcbiAgLy8gaWYgYSBwb3NpdGlvbiBtdXRhdGlvbiBoYXMgYWxyZWFkeSBmb3VuZCBhbiBlbGVtZW50IHRvIG1vdmUsIGRvbid0IG1vdmVcbiAgLy8gYW55IG1vcmUgZWxlbWVudHNcbiAgaWYgKG11dGF0aW9uLmtpbmQgPT09ICdwb3NpdGlvbicgJiYgbXV0YXRpb24uZWxlbWVudHMuc2l6ZSA9PT0gMSkgcmV0dXJuO1xuICB2YXIgZXhpc3RpbmdFbGVtZW50cyA9IG5ldyBTZXQobXV0YXRpb24uZWxlbWVudHMpO1xuICB2YXIgbWF0Y2hpbmdFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobXV0YXRpb24uc2VsZWN0b3IpO1xuICBtYXRjaGluZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKCFleGlzdGluZ0VsZW1lbnRzLmhhcyhlbCkpIHtcbiAgICAgIG11dGF0aW9uLmVsZW1lbnRzLmFkZChlbCk7XG4gICAgICBzdGFydE11dGF0aW5nKG11dGF0aW9uLCBlbCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV2ZXJ0TXV0YXRpb24obXV0YXRpb24pIHtcbiAgbXV0YXRpb24uZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gc3RvcE11dGF0aW5nKG11dGF0aW9uLCBlbCk7XG4gIH0pO1xuICBtdXRhdGlvbi5lbGVtZW50cy5jbGVhcigpO1xuICBtdXRhdGlvbnNbXCJkZWxldGVcIl0obXV0YXRpb24pO1xufVxuXG5mdW5jdGlvbiByZWZyZXNoQWxsRWxlbWVudFNldHMoKSB7XG4gIG11dGF0aW9ucy5mb3JFYWNoKHJlZnJlc2hFbGVtZW50c1NldCk7XG59IC8vIE9ic2VydmVyIGZvciBlbGVtZW50cyB0aGF0IGRvbid0IGV4aXN0IGluIHRoZSBET00geWV0XG5cblxudmFyIG9ic2VydmVyO1xuZnVuY3Rpb24gZGlzY29ubmVjdEdsb2JhbE9ic2VydmVyKCkge1xuICBvYnNlcnZlciAmJiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG59XG5mdW5jdGlvbiBjb25uZWN0R2xvYmFsT2JzZXJ2ZXIoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgaWYgKCFvYnNlcnZlcikge1xuICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgcmVmcmVzaEFsbEVsZW1lbnRTZXRzKCk7XG4gICAgfSk7XG4gIH1cblxuICByZWZyZXNoQWxsRWxlbWVudFNldHMoKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiBmYWxzZVxuICB9KTtcbn0gLy8gcnVuIG9uIGluaXRcblxuY29ubmVjdEdsb2JhbE9ic2VydmVyKCk7XG5cbmZ1bmN0aW9uIG5ld011dGF0aW9uKG0pIHtcbiAgLy8gTm90IGluIGEgYnJvd3NlclxuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIG51bGxDb250cm9sbGVyOyAvLyBhZGQgdG8gZ2xvYmFsIGluZGV4IG9mIG11dGF0aW9uc1xuXG4gIG11dGF0aW9ucy5hZGQobSk7IC8vIHJ1biByZWZyZXNoIG9uIGluaXQgdG8gZXN0YWJsaXNoIGxpc3Qgb2YgZWxlbWVudHMgYXNzb2NpYXRlZCB3LyBtdXRhdGlvblxuXG4gIHJlZnJlc2hFbGVtZW50c1NldChtKTtcbiAgcmV0dXJuIHtcbiAgICByZXZlcnQ6IGZ1bmN0aW9uIHJldmVydCgpIHtcbiAgICAgIHJldmVydE11dGF0aW9uKG0pO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaHRtbChzZWxlY3RvciwgbXV0YXRlKSB7XG4gIHJldHVybiBuZXdNdXRhdGlvbih7XG4gICAga2luZDogJ2h0bWwnLFxuICAgIGVsZW1lbnRzOiBuZXcgU2V0KCksXG4gICAgbXV0YXRlOiBtdXRhdGUsXG4gICAgc2VsZWN0b3I6IHNlbGVjdG9yXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwb3NpdGlvbihzZWxlY3RvciwgbXV0YXRlKSB7XG4gIHJldHVybiBuZXdNdXRhdGlvbih7XG4gICAga2luZDogJ3Bvc2l0aW9uJyxcbiAgICBlbGVtZW50czogbmV3IFNldCgpLFxuICAgIG11dGF0ZTogbXV0YXRlLFxuICAgIHNlbGVjdG9yOiBzZWxlY3RvclxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlcyhzZWxlY3RvciwgbXV0YXRlKSB7XG4gIHJldHVybiBuZXdNdXRhdGlvbih7XG4gICAga2luZDogJ2NsYXNzJyxcbiAgICBlbGVtZW50czogbmV3IFNldCgpLFxuICAgIG11dGF0ZTogbXV0YXRlLFxuICAgIHNlbGVjdG9yOiBzZWxlY3RvclxuICB9KTtcbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlKHNlbGVjdG9yLCBhdHRyaWJ1dGUsIG11dGF0ZSkge1xuICBpZiAoIXZhbGlkQXR0cmlidXRlTmFtZS50ZXN0KGF0dHJpYnV0ZSkpIHJldHVybiBudWxsQ29udHJvbGxlcjtcblxuICBpZiAoYXR0cmlidXRlID09PSAnY2xhc3MnIHx8IGF0dHJpYnV0ZSA9PT0gJ2NsYXNzTmFtZScpIHtcbiAgICByZXR1cm4gY2xhc3NlcyhzZWxlY3RvciwgZnVuY3Rpb24gKGNsYXNzbmFtZXMpIHtcbiAgICAgIHZhciBtdXRhdGVkQ2xhc3NuYW1lcyA9IG11dGF0ZShBcnJheS5mcm9tKGNsYXNzbmFtZXMpLmpvaW4oJyAnKSk7XG4gICAgICBjbGFzc25hbWVzLmNsZWFyKCk7XG4gICAgICBpZiAoIW11dGF0ZWRDbGFzc25hbWVzKSByZXR1cm47XG4gICAgICBtdXRhdGVkQ2xhc3NuYW1lcy5zcGxpdCgvXFxzKy9nKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gY2xhc3NuYW1lcy5hZGQoYyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXdNdXRhdGlvbih7XG4gICAga2luZDogJ2F0dHJpYnV0ZScsXG4gICAgYXR0cmlidXRlOiBhdHRyaWJ1dGUsXG4gICAgZWxlbWVudHM6IG5ldyBTZXQoKSxcbiAgICBtdXRhdGU6IG11dGF0ZSxcbiAgICBzZWxlY3Rvcjogc2VsZWN0b3JcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlY2xhcmF0aXZlKF9yZWYyKSB7XG4gIHZhciBzZWxlY3RvciA9IF9yZWYyLnNlbGVjdG9yLFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uLFxuICAgICAgdmFsdWUgPSBfcmVmMi52YWx1ZSxcbiAgICAgIGF0dHIgPSBfcmVmMi5hdHRyaWJ1dGUsXG4gICAgICBwYXJlbnRTZWxlY3RvciA9IF9yZWYyLnBhcmVudFNlbGVjdG9yLFxuICAgICAgaW5zZXJ0QmVmb3JlU2VsZWN0b3IgPSBfcmVmMi5pbnNlcnRCZWZvcmVTZWxlY3RvcjtcblxuICBpZiAoYXR0ciA9PT0gJ2h0bWwnKSB7XG4gICAgaWYgKGFjdGlvbiA9PT0gJ2FwcGVuZCcpIHtcbiAgICAgIHJldHVybiBodG1sKHNlbGVjdG9yLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgKyAodmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogJycpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdzZXQnKSB7XG4gICAgICByZXR1cm4gaHRtbChzZWxlY3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogJyc7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYXR0ciA9PT0gJ2NsYXNzJykge1xuICAgIGlmIChhY3Rpb24gPT09ICdhcHBlbmQnKSB7XG4gICAgICByZXR1cm4gY2xhc3NlcyhzZWxlY3RvciwgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICBpZiAodmFsdWUpIHZhbC5hZGQodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICByZXR1cm4gY2xhc3NlcyhzZWxlY3RvciwgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICBpZiAodmFsdWUpIHZhbFtcImRlbGV0ZVwiXSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3NldCcpIHtcbiAgICAgIHJldHVybiBjbGFzc2VzKHNlbGVjdG9yLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHZhbC5jbGVhcigpO1xuICAgICAgICBpZiAodmFsdWUpIHZhbC5hZGQodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGF0dHIgPT09ICdwb3NpdGlvbicpIHtcbiAgICBpZiAoYWN0aW9uID09PSAnc2V0JyAmJiBwYXJlbnRTZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIHBvc2l0aW9uKHNlbGVjdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW5zZXJ0QmVmb3JlU2VsZWN0b3I6IGluc2VydEJlZm9yZVNlbGVjdG9yLFxuICAgICAgICAgIHBhcmVudFNlbGVjdG9yOiBwYXJlbnRTZWxlY3RvclxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChhY3Rpb24gPT09ICdhcHBlbmQnKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlKHNlbGVjdG9yLCBhdHRyLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgIT09IG51bGwgPyB2YWwgKyAodmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogJycpIDogdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogJyc7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3NldCcpIHtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGUoc2VsZWN0b3IsIGF0dHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6ICcnO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlKHNlbGVjdG9yLCBhdHRyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGxDb250cm9sbGVyO1xufVxuXG52YXIgaW5kZXggPSB7XG4gIGh0bWw6IGh0bWwsXG4gIGNsYXNzZXM6IGNsYXNzZXMsXG4gIGF0dHJpYnV0ZTogYXR0cmlidXRlLFxuICBwb3NpdGlvbjogcG9zaXRpb24sXG4gIGRlY2xhcmF0aXZlOiBkZWNsYXJhdGl2ZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG5leHBvcnQgeyBjb25uZWN0R2xvYmFsT2JzZXJ2ZXIsIGRpc2Nvbm5lY3RHbG9iYWxPYnNlcnZlciwgdmFsaWRBdHRyaWJ1dGVOYW1lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20tbXV0YXRvci5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/dom-mutator@0.6.0/node_modules/dom-mutator/dist/dom-mutator.esm.js\n");

/***/ })

};
;